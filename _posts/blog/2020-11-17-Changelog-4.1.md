---
layout: post
title: Release 4.1
category: blog
excerpt: Tag selector enhancements
author: Jesse Chan (jesec)
---

## [4.1.1] (November 18, 2020)

- Transmission fixes:
  - Set tags while adding torrents
  - Set trackers
- New translations
  - Czech, thanks to Jan Březina
  - French, thanks to @Carryozor
  - German, thanks to @chint95
  - Romanian, thanks to @T-z3P

## [4.1.0] (November 17, 2020)

⚠️ Changes that may require manual attention: ⚠️

- Configuration is now schema validated before the start of Flood server
  - No action required if you use (preferred and default) CLI configuration interface
  - This ensures that when the config.js needs to be updated, the failure happens loud and early
  - Check [shared/schema/Config.ts](https://github.com/jesec/flood/blob/master/shared/schema/Config.ts) for more details
- Enforces that the length of secret must be larger than 30
  - Secret can be brute forced locally without interaction with the server
    - However, an attacker must get a valid token (generated by proper authentication) first
      - If all users are trusted, attackers have no way to get a valid token
  - Secret is used to sign authentication tokens but it is NOT linked to the password
    - Attacker may log into Flood as any user if they have the secret
      - However, they are still constrained by capabilities and settings (such as `--allowedpath`) of Flood

<br>

Other changes:

<br>

- Tag selector preference:
  - Single selection:<br>
    <video autoplay muted loop playsinline width="300px" src="/assets/img/posts/2020-11-17/tag-single.mp4"></video>
  - Multi selection:<br>
    <video autoplay muted loop playsinline width="300px" src="/assets/img/posts/2020-11-17/tag-multi.mp4"></video>
- UX enhancements to tag selector<br>
  <video autoplay muted loop playsinline width="300px" src="/assets/img/posts/2020-11-17/tag-input.mp4"></video>
- Suggest destination based on selected tag
- `add-urls` and `add-files` API endpoints no longer fail if `destination` property is not provided
  - Download destination fallback has been implemented:
    - Tag-specific preferred download destination
    - Last used download destination
    - Default download destination of connected torrent client
  - This makes things easier for API users
  - No direct impact on Flood itself
- Remember last used "Add Torrents" tab
- Remove center alignment of certain modals to align with global styles
- Disallow browser's input suggestion when tag selector or folder browser is open
- Don't pop up the browser menu on right click while context menu is open
- Experimental standalone (single-executable) builds
- New translations
  - German, thanks to @chint95
  - Romanian, thanks to @T-z3P
- Bump dependencies
- Bug fixes:
  - Properly handle "error" alerts (display "❗" icon instead of "✅" icon)

[4.1.0]: https://github.com/jesec/flood/compare/v4.0.2...v4.1.0
[4.1.1]: https://github.com/jesec/flood/compare/v4.1.0...v4.1.1
